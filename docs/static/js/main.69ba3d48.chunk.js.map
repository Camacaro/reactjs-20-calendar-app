{"version":3,"sources":["hook/useForm.js","helpers/fetch.js","types/types.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","Components/auth/LoginScreen.js","Components/ui/Navbar.js","helpers/calendar-message-es.js","Components/calendar/CalendarEvent.js","actions/ui.js","Components/calendar/CalendarModal.js","Components/ui/AddNewFab.js","Components/ui/DeleteEventFab.js","Components/calendar/CalendarScreen.js","router/PublicRoute.js","router/PrivateRoute.js","router/AppRouter.js","reducers/uiReducer.js","reducers/calendarReducer.js","reducers/authReducer.js","reducers/rootReducer.js","store/store.js","CalendarApp.js","index.js"],"names":["useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","baseUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","types","prepareEvents","events","map","e","start","moment","toDate","end","eventAddNew","event","type","payload","eventClearActiveEvent","eventUpdated","eventDeleted","eventLoaded","checkingFinish","login","user","startLogout","dispatch","clear","logout","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","resp","json","ok","uid","rest","setItem","Date","getTime","Swal","fire","msg","placeholder","onChange","rname","console","log","Navbar","useSelector","state","auth","onClick","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minute","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","modalOpen","ui","activeEvent","calendar","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","settitleValid","formValues","setFormValues","useEffect","closeModal","isOpen","onRequestClose","closeTimeoutMS","style","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","id","getState","evento","_id","Error","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","display","opacity","borderRadius","color","onDoubleClickEvent","onSelectEvent","onView","view","onSelectSlot","selectable","components","PublicRoute","isAuthenticated","Component","component","props","to","PrivateRoute","AppRouter","checking","exact","path","initalState","rootReducer","combineReducers","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69ba3d48.chunk.js","sourcesContent":["import { useState } from \"react\";\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = () => {\r\n    setValues(initialState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};\r\n","\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport const fetchSinToken = ( endpoint, data, method = 'GET' ) => {\r\n\r\n  const url = `${ baseUrl }/${ endpoint }`;\r\n\r\n  if( method === 'GET' ) {\r\n    \r\n    return fetch( url );\r\n\r\n  } else {\r\n\r\n    return fetch( url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify( data )\r\n    })\r\n  }\r\n}\r\n\r\nexport const fetchConToken = ( endpoint, data, method = 'GET' ) => {\r\n\r\n  const url = `${ baseUrl }/${ endpoint }`;\r\n  const token = localStorage.getItem('token') || '';\r\n \r\n  if( method === 'GET' ) {\r\n    \r\n    return fetch( url, {\r\n      method,\r\n      headers: {\r\n        'x-token': token,\r\n      },\r\n    } );\r\n\r\n  } else {\r\n\r\n    return fetch( url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        'x-token': token,\r\n      },\r\n      body: JSON.stringify( data )\r\n    })\r\n  }\r\n}","\r\nexport const types = {\r\n\r\n  uiOpenModal: '[ui] Open Modal',\r\n  uiCloseModal: '[ui] Close Modal',\r\n\r\n  eventStartAddNew: '[event Start add new',\r\n  eventAddNew: '[event] Add new',\r\n  eventSetActive: '[event] Set active',\r\n  eventLogout: '[event] Logout event',\r\n  eventClearActiveEvent: '[event] Clear active event',\r\n  eventUpdated: '[event] Event updated',\r\n  eventDeleted: '[event] Event deleted',\r\n  eventLoaded: '[event] Events loaded',\r\n\r\n  authCheckingFinish: '[auth] Finish checking login state',\r\n  authStartLogin: '[auth] Start login',\r\n  authLogin: '[auth] Login',\r\n  authStartRegister: '[auth] Start Register',\r\n  authStartTokenRenew: '[auth] Start token renew',\r\n  authLogout: '[auth] Logout',\r\n\r\n}","\r\nimport moment from 'moment'\r\n\r\nexport const prepareEvents = ( events = [] ) => {\r\n  \r\n  return events.map(\r\n    e => ({\r\n      ...e,\r\n      start: moment( e.start ).toDate(),\r\n      end: moment( e.end ).toDate()\r\n    })\r\n  )\r\n\r\n\r\n}","import { types } from \"../types/types\";\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\nimport { prepareEvents } from \"../helpers/prepareEvents\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nexport const eventStartAddNew = (event) => {\r\n  return async (dispatch, getState) => {\r\n    \r\n    const { uid, name } = getState().auth;\r\n    try {\r\n      const resp = await fetchConToken( 'events', event, 'POST' );\r\n      const { ok, evento } = await resp.json();\r\n\r\n      if( ok ) {\r\n\r\n        event.id = evento.id\r\n        event.user = {\r\n          _id: uid,\r\n          name\r\n        }\r\n\r\n        dispatch( eventAddNew(event) )\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error('Error al crear el evento')\r\n    }\r\n\r\n  }\r\n}\r\n\r\nconst eventAddNew = (event) => ({\r\n  type: types.eventAddNew,\r\n  payload: event\r\n})\r\n\r\nexport const eventSetActive = (event) => ({\r\n  type: types.eventSetActive,\r\n  payload: event\r\n})\r\n\r\nexport const eventClearActiveEvent = () => ({\r\n  type: types.eventClearActiveEvent\r\n})\r\n\r\nexport const eventStartUpdate = (event) => {\r\n  return async (dispatch) => {\r\n\r\n    try { \r\n      \r\n      const resp = await fetchConToken( `events/${ event.id }`, event, 'PUT');\r\n      const body = await resp.json();\r\n\r\n      if( body.ok ) {\r\n        dispatch( eventUpdated(event) )\r\n      } else {\r\n        Swal.fire('Error', body.msg ,'error')\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n}\r\n\r\nconst eventUpdated = ( event ) => ({\r\n  type: types.eventUpdated,\r\n  payload: event\r\n})\r\n\r\nexport const eventStartDelete = () => {\r\n  return async (dispatch, getState) => {\r\n\r\n    const {id} = getState().calendar.activeEvent\r\n    try { \r\n      const resp = await fetchConToken( `events/${ id }`, {}, 'DELETE');\r\n      const body = await resp.json();\r\n\r\n      if( body.ok ) {\r\n        dispatch( eventDeleted() )\r\n      } else {\r\n        Swal.fire('Error', body.msg ,'error')\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n}\r\n\r\nconst eventDeleted = () => ({\r\n  type: types.eventDeleted\r\n})\r\n\r\nexport const eventStartLoading = () => {\r\n  return async (dispatch) => {\r\n\r\n    try {\r\n      \r\n      const resp = await fetchConToken( 'events' );\r\n      const {eventos} = await resp.json();\r\n\r\n      const events = prepareEvents( eventos );\r\n\r\n      dispatch( eventLoaded(events) )\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n    // dispatch( eventLoaded() )\r\n  }\r\n}\r\n\r\nconst eventLoaded = (events) => ({\r\n  type: types.eventLoaded,\r\n  payload: events\r\n})\r\n\r\nexport const eventLogout = () => ({\r\n  type: types.eventLogout\r\n})","import { fetchSinToken, fetchConToken } from \"../helpers/fetch\"\r\nimport { types } from \"../types/types\";\r\nimport Swal from \"sweetalert2\";\r\nimport { eventLogout } from \"./events\";\r\n\r\n\r\nexport const startLogin = (email, password) => {\r\n  return async (dispatch) => {\r\n\r\n    const resp = await fetchSinToken( 'auth', {email, password}, 'POST' );\r\n    const {ok, token, uid, name, ...rest} = await resp.json();\r\n\r\n    if ( ok ) {\r\n      localStorage.setItem('token', token )\r\n      localStorage.setItem('token-init-date', new Date().getTime() )\r\n\r\n      dispatch( login({\r\n        uid,\r\n        name\r\n      }))\r\n\r\n    } else {\r\n\r\n      Swal.fire('Error', rest.msg, 'error')\r\n    }\r\n  }\r\n}\r\n\r\nexport const startRegister = ( rname, email, password ) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchSinToken( 'auth/new', {name: rname, email, password}, 'POST' );\r\n    const {ok, token, uid, name, ...rest} = await resp.json();\r\n\r\n    console.log({ok, token, uid, name, ...rest} )\r\n\r\n    if ( ok ) {\r\n      localStorage.setItem('token', token )\r\n      localStorage.setItem('token-init-date', new Date().getTime() )\r\n\r\n      dispatch( login({\r\n        uid,\r\n        name\r\n      }))\r\n\r\n    } else {\r\n\r\n      Swal.fire('Error', rest.msg, 'error')\r\n    }\r\n  }\r\n}\r\n\r\nexport const startChecking = () => {\r\n  return async (dispatch) => {\r\n\r\n    const resp = await fetchConToken( 'auth/renew' );\r\n    const {ok, token, uid, name} = await resp.json();\r\n\r\n    if ( ok ) {\r\n      localStorage.setItem('token', token )\r\n      localStorage.setItem('token-init-date', new Date().getTime() )\r\n\r\n      dispatch( login({\r\n        uid,\r\n        name\r\n      }))\r\n\r\n    } else {\r\n      // Swal.fire('Error', rest.msg, 'error')\r\n      dispatch( checkingFinish() );\r\n    }\r\n    \r\n  }\r\n}\r\n\r\nconst checkingFinish = () => ({\r\n  type: types.authCheckingFinish\r\n})\r\n\r\nconst login = (user) => ({\r\n  type: types.authLogin,\r\n  payload: user\r\n})\r\n\r\nexport const startLogout = () => {\r\n  return (dispatch) => {\r\n    \r\n    localStorage.clear();\r\n\r\n    dispatch( eventLogout() )\r\n    dispatch( logout() )\r\n  }\r\n}\r\n\r\nconst logout = ( ) => ({ type: types.authLogout })","import React from \"react\";\r\nimport { useForm } from \"../../hook/useForm\";\r\nimport \"./login.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { startLogin, startRegister } from \"../../actions/auth\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const LoginScreen = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const [ formLoginValues, handleLoginInputChange ] = useForm({\r\n    lEmail: 'jesus@gmail.com',\r\n    lPassword: '123456'\r\n  });\r\n\r\n  const [ formRegisterValues, handleRegisterInputChange ] = useForm({\r\n    rName: 'ale',\r\n    rEmail: 'ale@gmail.com',\r\n    rPassword: '123456',\r\n    rPassword2: '123456'\r\n  });\r\n\r\n  const { lEmail, lPassword } = formLoginValues\r\n\r\n  const { rName, rEmail, rPassword, rPassword2 } = formRegisterValues;\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    dispatch( startLogin(lEmail, lPassword) )\r\n  }\r\n\r\n  const handleregister = (e) => {\r\n    e.preventDefault();\r\n\r\n    if( rPassword !== rPassword2 ) {\r\n      return Swal.fire('Error', 'Las contraseñas deben ser iguales', 'error');\r\n    }\r\n\r\n    dispatch( startRegister( rName, rEmail, rPassword  ) )\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container login-container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 login-form-1\">\r\n          <h3>Ingreso</h3>\r\n          <form onSubmit={ handleLogin }>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                name=\"lEmail\"\r\n                value={ lEmail }\r\n                onChange={ handleLoginInputChange }\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                name=\"lPassword\"\r\n                value={ lPassword }\r\n                onChange={ handleLoginInputChange }\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"col-md-6 login-form-2\">\r\n          <h3>Registro</h3>\r\n          <form onSubmit={ handleregister }>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Nombre\"\r\n                name=\"rName\"\r\n                value={ rName }\r\n                onChange={ handleRegisterInputChange }\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                name=\"rEmail\"\r\n                value={ rEmail }\r\n                onChange={ handleRegisterInputChange }\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                name=\"rPassword\"\r\n                value={ rPassword }\r\n                onChange={ handleRegisterInputChange }\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Repita la contraseña\"\r\n                name=\"rPassword2\"\r\n                value={ rPassword2 }\r\n                onChange={ handleRegisterInputChange }\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { startLogout } from '../../actions/auth'\r\n\r\nexport const Navbar = () => {\r\n  const { name } = useSelector(state => state.auth)\r\n  const dispatch = useDispatch()\r\n\r\n  const handleLogout = () => {\r\n    dispatch( startLogout() )\r\n  }\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n      <span className=\"navbar-brand\">\r\n        {name}\r\n      </span>\r\n\r\n      <button \r\n        className=\"btn btn-outline-danger\"\r\n        onClick={ handleLogout }\r\n      >\r\n        <i className=\"fas fa-sign-out-alt\"></i>\r\n        <span> Salir </span>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","export const messages = {\r\n  allDay: 'Todo el día',\r\n  previous: '<',\r\n  next: '>',\r\n  today: 'Hoy',\r\n  month: 'Mes',\r\n  week: 'Semana',\r\n  day: 'Día',\r\n  agenda: 'Agenda',\r\n  date: 'Fecha',\r\n  time: 'Hora',\r\n  event: 'Evento',\r\n  noEventsInRange: 'No hay eventos en este rango',\r\n  showMore: total => `+ Ver más (${total})`\r\n};","import React from 'react'\r\n\r\nexport const CalendarEvent = ({ event }) => {\r\n\r\n  const { title, user } = event;\r\n\r\n  return (\r\n    <div>\r\n      <strong> {title} </strong>\r\n      <span>- {user.name} </span>\r\n    </div>\r\n  )\r\n}\r\n","import { types } from \"../types/types\";\r\n\r\n\r\nexport const uiOpenModal = () => ({\r\n  type: types.uiOpenModal\r\n})\r\n\r\nexport const uiCloseModal = () => ({\r\n  type: types.uiCloseModal\r\n})","import React, { useState, useEffect } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport moment from 'moment'\r\nimport Swal from \"sweetalert2\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport { eventClearActiveEvent, eventStartAddNew, eventStartUpdate } from \"../../actions/events\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst now = moment().minute(0).seconds(0).add(1, 'hours'); // 12:00\r\nconst nowPlus1 = now.clone().add(1, 'hours');\r\n\r\nconst initEvent = {\r\n  title: '',\r\n  notes: '',\r\n  start: now.toDate(),\r\n  end: nowPlus1.toDate()\r\n}\r\n\r\nexport const CalendarModal = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const { modalOpen } = useSelector(state => state.ui);\r\n  const { activeEvent } = useSelector(state => state.calendar);\r\n  const [dateStart, setDateStart] = useState( now.toDate() );\r\n  const [dateEnd, setDateEnd] = useState( nowPlus1.toDate() );\r\n  const [titleValid, settitleValid] = useState(true)\r\n\r\n  const [formValues, setFormValues] = useState(initEvent);\r\n\r\n  const { notes, title, start, end } = formValues;\r\n\r\n  useEffect(() => {\r\n    if( activeEvent ) {\r\n      // console.log({activeEvent})\r\n      setFormValues( activeEvent )\r\n      // console.log({formValues})\r\n    } else {\r\n      setFormValues( initEvent )\r\n    }\r\n  }, [activeEvent, setFormValues])\r\n\r\n  const handleInputChange = ({target}) => {\r\n    setFormValues({\r\n      ...formValues,\r\n      [target.name]: target.value\r\n    })\r\n  }\r\n\r\n  const closeModal = () => {\r\n    console.log(\"closing modal...\");\r\n    dispatch( uiCloseModal() )\r\n    dispatch( eventClearActiveEvent() )\r\n    setFormValues( initEvent )\r\n    \r\n  };\r\n  \r\n  const handleStartDateChange = (e) => {\r\n    setDateStart( e )\r\n    setFormValues({\r\n      ...formValues,\r\n      start: e\r\n    })\r\n  }\r\n\r\n  const handleEndDateChange = (e) => {\r\n    setDateEnd(e)\r\n    setFormValues({\r\n      ...formValues,\r\n      end: e\r\n    })\r\n  }\r\n\r\n  const handleSubmitForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    const momentStart = moment( start );\r\n    const momentEnd = moment( end );\r\n\r\n    if( momentStart.isSameOrAfter( momentEnd) ) {\r\n      console.log('Fecha momentEnd debe ser mayor que momentStart');\r\n      Swal.fire('Error', 'La fecha fin debe ser mayor a la fecha de inicio', 'error');\r\n      return false;\r\n    }\r\n\r\n    if( title.trim().length < 2 ){\r\n      return settitleValid(false);\r\n    }\r\n\r\n    if( activeEvent ) {\r\n      dispatch( eventStartUpdate( formValues ) )\r\n    } else {\r\n\r\n      dispatch( eventStartAddNew(formValues) )\r\n    }\r\n    \r\n\r\n    settitleValid(true);\r\n    closeModal();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={ modalOpen } // boolean, mostar el modal\r\n      // onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal} // cerrar el modal\r\n      closeTimeoutMS={200} // Tiempo a cerrar\r\n      style={customStyles}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\" // clase de fondo del modal\r\n    >\r\n      <h1> { (activeEvent) ? 'Editar Evento' : 'Nuevo Evento'} </h1>\r\n      <hr />\r\n      <form \r\n        className=\"container\"\r\n        onSubmit={ handleSubmitForm }\r\n      >\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora inicio</label>\r\n          <DateTimePicker\r\n            onChange={ handleStartDateChange }\r\n            value={ dateStart }\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora fin</label>\r\n          <DateTimePicker\r\n            onChange={ handleEndDateChange }\r\n            value={ dateEnd }\r\n            minDate={ dateStart } // fecha minima para que la de inicio no sea mayor\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n\r\n        <hr />\r\n        <div className=\"form-group\">\r\n          <label>Titulo y notas</label>\r\n          <input\r\n            type=\"text\"\r\n            className={`form-control ${ !titleValid && 'is-invalid' } `}\r\n            placeholder=\"Título del evento\"\r\n            name=\"title\"\r\n            autoComplete=\"off\"\r\n            value={ title }\r\n            onChange={ handleInputChange }\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Una descripción corta\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Notas\"\r\n            rows=\"5\"\r\n            name=\"notes\"\r\n            value={ notes }\r\n            onChange={ handleInputChange }\r\n          ></textarea>\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Información adicional\r\n          </small>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"far fa-save\"></i>\r\n          <span> Guardar</span>\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { uiOpenModal } from '../../actions/ui';\r\n\r\nexport const AddNewFab = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClickButton = () => {\r\n    dispatch( uiOpenModal() );\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className=\"btn btn-primary fab\"\r\n      onClick={ handleClickButton }\r\n    >\r\n      <i className=\"fas fa-plus\"></i>\r\n    </button>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { eventStartDelete } from '../../actions/events'\r\n\r\nexport const DeleteEventFab = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const handleDelete = () => {\r\n    dispatch( eventStartDelete() )\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={ handleDelete }\r\n      className=\"btn btn-danger fab-danger\"\r\n    >\r\n      <i className=\"fa fa-trash\"></i>\r\n      <span> Borrar Evento </span>\r\n    </button>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\r\nimport moment from 'moment'\r\n\r\nimport 'moment/locale/es'\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css'\r\n\r\nimport { Navbar } from '../ui/Navbar'\r\nimport { messages } from '../../helpers/calendar-message-es'\r\nimport { CalendarEvent } from './CalendarEvent'\r\nimport { CalendarModal } from './CalendarModal'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { uiOpenModal } from '../../actions/ui'\r\nimport { eventSetActive, eventClearActiveEvent, eventStartLoading } from '../../actions/events'\r\nimport { AddNewFab } from '../ui/AddNewFab'\r\nimport { DeleteEventFab } from '../ui/DeleteEventFab'\r\n\r\nmoment.locale('es');\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\n// const events = [\r\n//   {\r\n//     title: 'Cumpleaños del jefe',\r\n//     start: moment().toDate(), // new Date\r\n//     end: moment().add(2, 'hours').toDate(),\r\n//     bgcolor: 'fafafa',\r\n//     notes: 'comprar pastel',\r\n//     user: {\r\n//       _id: '123',\r\n//       name: 'Jesus'\r\n//     }\r\n//   }\r\n// ]\r\n\r\nexport const CalendarScreen = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const { uid } = useSelector(state => state.auth)\r\n\r\n  const { events, activeEvent } = useSelector(state => state.calendar)\r\n\r\n  const [lastView, setLastView] = useState( localStorage.getItem('lastView') || 'month' );\r\n\r\n  useEffect(() => {\r\n    dispatch( eventStartLoading() )\r\n  }, [dispatch])\r\n\r\n  const onDoubleClick = (e) => {\r\n    console.log('Abrir modal')\r\n    // console.log(e)\r\n    dispatch( uiOpenModal() )\r\n  }\r\n\r\n  const onSelectEvent = (e) => {\r\n    // console.log(e)\r\n    console.log('Evento seleccionado');\r\n    dispatch( eventSetActive(e) )\r\n  }\r\n\r\n  const onViewChange = (e) => {\r\n    setLastView(e)\r\n    localStorage.setItem('lastView', e)\r\n  }\r\n\r\n  const onSelectSlot = (e) => {\r\n    // console.log('onSelectSlot', e)\r\n    dispatch( eventClearActiveEvent() )\r\n  }\r\n\r\n  const eventStyleGetter = ( event, start, end, isSelected ) => {\r\n    // console.log({event, start, end, isSelected})\r\n\r\n    const style = {\r\n      backgroundColor: ( uid === event.user._id ) ? '#367CF7' : '#465660',\r\n      display: 'block',\r\n      opacity: 0.8,\r\n      borderRadius: '0px',\r\n      color: 'white'\r\n    }\r\n\r\n    return {\r\n      style\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"calendar-screen\">\r\n      <Navbar />\r\n\r\n      <Calendar\r\n        localizer={ localizer }\r\n        events={ events }\r\n        startAccessor=\"start\"\r\n        endAccessor=\"end\"\r\n        messages={ messages }\r\n        eventPropGetter={ eventStyleGetter }\r\n        onDoubleClickEvent={ onDoubleClick }\r\n        onSelectEvent={ onSelectEvent } \r\n        onView={ onViewChange } // view: mes, semana, dia, agenda\r\n        view={ lastView }\r\n        onSelectSlot={ onSelectSlot } // manejar eventos fuera de la seleccion del calendar\r\n        selectable={ true } // manejar eventos fuera de la seleccion del calendar\r\n        components={{\r\n          event: CalendarEvent\r\n        }}\r\n      />\r\n\r\n      <CalendarModal />\r\n\r\n      <AddNewFab />\r\n\r\n      { activeEvent && <DeleteEventFab /> }\r\n      \r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport PropTypes from 'prop-types';\n\nexport const PublicRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => {\n\n  return (\n    <Route { ...rest }\n      component={ (props) =>(\n        (isAuthenticated)\n          ? ( <Redirect to=\"/\" /> )\n          : (  <Component { ...props } />   )\n      )}\n    />\n  )\n}\n\n\nPublicRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired\n}","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport PropTypes from 'prop-types';\n\nexport const PrivateRoute = ({\n  isAuthenticated,\n  component: Component,\n  ...rest\n}) => {\n\n  return (\n    <Route { ...rest }\n      component={ (props) =>(\n        (isAuthenticated)\n          ? ( <Component { ...props } /> )\n          : ( <Redirect to=\"/login\" /> )\n      )}\n    />\n  )\n}\n\n\nPrivateRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired\n}","import React, { useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LoginScreen } from '../Components/auth/LoginScreen';\r\nimport { CalendarScreen } from '../Components/calendar/CalendarScreen';\r\nimport { startChecking } from '../actions/auth';\r\nimport { PublicRoute } from './PublicRoute';\r\nimport { PrivateRoute } from './PrivateRoute';\r\n\r\nexport const AppRouter = () => {\r\n\r\n  const dispatch = useDispatch()\r\n  const { checking, uid } = useSelector(state => state.auth)\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch( startChecking() )\r\n    \r\n  }, [dispatch])\r\n\r\n  if( checking ) {\r\n    return (<h5>Cargando...</h5>)\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n\r\n          <PublicRoute \r\n            exact \r\n            path=\"/login\"\r\n            component={ LoginScreen }\r\n            isAuthenticated={ !!uid } // doble negacion, !!'string' === true, !!null === false\r\n          />\r\n\r\n          <PrivateRoute \r\n            exact \r\n            path=\"/\"\r\n            component={ CalendarScreen }\r\n            isAuthenticated={ !!uid } // doble negacion, !!'string' === true, !!null === false\r\n          />\r\n          \r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n","import { types } from \"../types/types\";\r\n\r\nconst initalState = {\r\n  modalOpen: false\r\n}\r\n\r\nexport const uiReducer = (state = initalState, action) => {\r\n\r\n  switch ( action.type ) {\r\n    case types.uiOpenModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: true\r\n      }\r\n    case types.uiCloseModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: false\r\n      }\r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}","\r\n// import moment from 'moment'\r\nimport { types } from '../types/types';\r\n\r\n// {\r\n//   id: 'asfsdfsdfsgf',\r\n//   title: 'Cumpleaños del jefe',\r\n//   start: moment().toDate(), // new Date\r\n//   end: moment().add(2, 'hours').toDate(),\r\n//   notes: 'comprar pastel',\r\n//   user: {\r\n//     _id: '123',\r\n//     name: 'Jesus'\r\n//   }\r\n// }\r\n\r\nconst initialState = {\r\n  events: [],\r\n  activeEvent: null\r\n}\r\n\r\nexport const calendarReducer = ( state = initialState, action ) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload\r\n      }\r\n\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        events: [ ...state.events, action.payload  ]\r\n      }\r\n\r\n    case types.eventClearActiveEvent:\r\n      return {\r\n        ...state,\r\n        activeEvent: null\r\n      }\r\n\r\n    case types.eventUpdated:\r\n      return {\r\n        ...state,\r\n        events: state.events.map(\r\n          e => ( e.id === action.payload.id )\r\n          ? action.payload\r\n          : e\r\n        )\r\n      }\r\n\r\n    case types.eventDeleted:\r\n      return {\r\n        ...state,\r\n        events: state.events.filter(\r\n          e => ( e.id !== state.activeEvent.id )\r\n        ),\r\n        activeEvent: null\r\n      }\r\n    \r\n    case types.eventLoaded:\r\n      return {\r\n        ...state,\r\n        events: [ ...action.payload ]\r\n      }\r\n\r\n    case types.eventLogout:\r\n      return {\r\n        ...initialState\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { types } from \"../types/types\";\r\n\r\n\r\nconst initialState = {\r\n  checking: true,\r\n  // uid: null,\r\n  // name: null\r\n}\r\n\r\nexport const authReducer = ( state = initialState, action ) => {\r\n\r\n  switch (action.type) {\r\n    case types.authLogin:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        checking: false\r\n      }\r\n\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking: false\r\n      }\r\n\r\n    case types.authLogout: \r\n      return {\r\n        checking: false\r\n      }\r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from \"redux\";\r\nimport { uiReducer } from \"./uiReducer\";\r\nimport { calendarReducer } from \"./calendarReducer\";\r\nimport { authReducer } from \"./authReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  ui: uiReducer,\r\n  calendar: calendarReducer,\r\n  auth: authReducer\r\n})","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport { rootReducer } from \"../reducers/rootReducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(\r\n    applyMiddleware( thunk )\r\n  )\r\n);","import React from 'react'\r\nimport { AppRouter } from './router/AppRouter'\r\nimport { store } from './store/store'\r\nimport { Provider } from 'react-redux'\r\n\r\n\r\nexport const CalendarApp = () => {\r\n  return (\r\n    <Provider store={ store }>\r\n      <AppRouter />\r\n    </Provider>\r\n  )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\nimport './styles.css'\n\nReactDOM.render(\n  <CalendarApp />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}